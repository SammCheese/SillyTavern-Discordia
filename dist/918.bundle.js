"use strict";(self.webpackChunkst_discordia=self.webpackChunkst_discordia||[]).push([[918],{233:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>l});var c=a(363),i=a(257).V;const{getThumbnailUrl:e,user_avatar:s}=await i("@script"),l=({name:t,avatar:a})=>c.createElement(c.Fragment,null,c.createElement("div",{id:"user-avatar"},c.createElement("img",{loading:"lazy",id:"discordia-avatar",src:e("persona",a||s||"user-default.png"),style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"},alt:"User Avatar"})),c.createElement("div",{id:"user-info"}," ",c.createElement("div",{id:"user-name"},t),c.createElement("div",{id:"user-status"})));n()}catch(e){n(e)}},1)},918:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>f});var c=a(363),i=a(744),s=a(233),l=a(257).V,o=e([s]),r=o.then?(await o)():o;s=r[0];const d=c.lazy(()=>a.e(951).then(a.bind(a,951))),{name1:u,eventSource:m,event_types:v}=await l("@script"),g=({avatar:e,icons:t})=>{const[a,n]=c.useState("no_connection"),l=c.useContext(i.N);c.useEffect(()=>(m.on(v.ONLINE_STATUS_CHANGED,o),()=>{m.removeListener(v.ONLINE_STATUS_CHANGED,o)}),[]);const o=()=>{"no_connection"===SillyTavern.getContext().onlineStatus?n("no_connection"):n("online")},r=e=>{const t=e.id;switch(t){case"#user-settings-button":l.openPage(c.createElement(d,null));break;case"#ai-config-button":console.log("AI Config Button Clicked");break;case"#sys-settings-button":console.log("System Settings Button Clicked");break;default:console.log(`No action defined for icon with id: ${t}`)}};return c.createElement("div",{id:"user-profile-container"},c.createElement(s.A,{name:u,avatar:e}),c.createElement("div",{id:"user-settings-buttons"},t?.filter(e=>e.showInProfile)?.map((e,t)=>c.createElement(p,{enabled:!e.className.includes("fa-plug")||"no_connection"!==a,icon:e,key:t,onClick:r}))))},p=({icon:e,onClick:t,enabled:a=!0})=>{const n=()=>{a&&t(e)};return e.className.includes("fa-plug")?c.createElement("div",{className:a?e.className.replace("fa-plug-circle-exclamation","fa-plug").replace("redOverlayGlow",""):`${e.className}`,title:e.title,onClick:n}):c.createElement("div",{className:e.className,title:e.title,onClick:n})},f=c.memo(g);n()}catch(e){n(e)}},1)}}]);
//# sourceMappingURL=918.bundle.js.map