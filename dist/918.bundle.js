export const __webpack_esm_id__=918;export const __webpack_esm_ids__=[918];export const __webpack_esm_modules__={233:(e,a,n)=>{n.a(e,async(e,t)=>{try{n.d(a,{A:()=>r});var s=n(259),i=n(363),o=n(257).V;const{getThumbnailUrl:e,user_avatar:c}=await o("@script"),r=({name:a,avatar:n})=>{const t=i.useMemo(()=>e("persona",n||c||"user-default.png"),[n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{id:"user-avatar",children:(0,s.jsx)("img",{loading:"lazy",id:"discordia-avatar",src:t,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"},alt:"User Avatar"})}),(0,s.jsxs)("div",{id:"user-info",children:[" ",(0,s.jsx)("div",{id:"user-name",children:a}),(0,s.jsx)("div",{id:"user-status"})]})]})};t()}catch(e){t(e)}},1)},918:(e,a,n)=>{n.a(e,async(e,t)=>{try{n.r(a),n.d(a,{default:()=>h});var s=n(259),i=n(363),o=n(744),c=n(233),r=n(257).V,l=e([o,c]);[o,c]=l.then?(await l)():l;const d=i.lazy(()=>n.e(951).then(n.bind(n,951))),u=i.lazy(()=>n.e(108).then(n.bind(n,108))),_=i.lazy(()=>Promise.all([n.e(167),n.e(917)]).then(n.bind(n,917))),{name1:m,eventSource:p,event_types:v}=await r("@script"),x=({avatar:e=null,icons:a=null})=>{const[n,t]=i.useState("no_connection"),{openPage:r}=i.useContext(o.N);i.useEffect(()=>(p.on(v.ONLINE_STATUS_CHANGED,l),()=>{p.removeListener(v.ONLINE_STATUS_CHANGED,l)}),[]);const l=(0,i.useCallback)(()=>{"no_connection"===SillyTavern.getContext().onlineStatus?t("no_connection"):t("online")},[]),x=(0,i.useCallback)(e=>{const a=e.id;switch(a){case"#user-settings-button":r((0,s.jsx)(d,{}));break;case"#ai-config-button":r((0,s.jsx)(u,{}));break;case"#sys-settings-button":r((0,s.jsx)(_,{}));break;default:console.log(`No action defined for icon with id: ${a}`)}},[]),h=i.useMemo(()=>"no_connection"!==n,[n]),g=i.useMemo(()=>a?.filter(e=>e.showInProfile)||[],[a]);return(0,s.jsxs)("div",{id:"user-profile-container",children:[(0,s.jsx)(c.A,{name:m,avatar:e}),(0,s.jsx)("div",{id:"user-settings-buttons",children:g.map((e,a)=>(0,s.jsx)(b,{apiConnected:h,icon:e,onClick:x},a))})]})},b=({icon:e,onClick:a,apiConnected:n=!1,enabled:t=!0})=>{const i=()=>{a&&t&&a(e)};return e.className.includes("fa-plug")?(0,s.jsx)("div",{className:n?e.className.replace("fa-plug-circle-exclamation","fa-plug").replace("redOverlayGlow",""):`${e.className}`,title:e.title,onClick:i}):(0,s.jsx)("div",{className:e.className,title:e.title,onClick:i})},h=i.memo(x);t()}catch(e){t(e)}},1)}};
//# sourceMappingURL=918.bundle.js.map