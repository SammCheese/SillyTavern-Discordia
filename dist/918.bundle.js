export const __webpack_esm_id__=918;export const __webpack_esm_ids__=[918];export const __webpack_esm_modules__={4918:(e,n,t)=>{t.a(e,async(e,a)=>{try{t.r(n),t.d(n,{default:()=>h});var s=t(7259),i=t(6363),c=t(1363),o=t(7233),r=t(7257).V,l=e([c,o]);[c,o]=l.then?(await l)():l;const d=i.lazy(()=>t.e(951).then(t.bind(t,1951))),u=i.lazy(()=>t.e(108).then(t.bind(t,108))),_=i.lazy(()=>t.e(917).then(t.bind(t,2917))),{name1:m,eventSource:p,event_types:v}=await r("@script"),x=({avatar:e=null,icons:n=null})=>{const[t,a]=i.useState("no_connection"),{openPage:r}=i.useContext(c.N);i.useEffect(()=>(p.on(v.ONLINE_STATUS_CHANGED,l),()=>{p.removeListener(v.ONLINE_STATUS_CHANGED,l)}),[]);const l=(0,i.useCallback)(()=>{"no_connection"===SillyTavern.getContext().onlineStatus?a("no_connection"):a("online")},[]),x=(0,i.useCallback)(e=>{const n=e.id;switch(n){case"#user-settings-button":r((0,s.jsx)(d,{}));break;case"#ai-config-button":r((0,s.jsx)(u,{}));break;case"#sys-settings-button":r((0,s.jsx)(_,{}));break;default:console.log(`No action defined for icon with id: ${n}`)}},[]),h=i.useMemo(()=>"no_connection"!==t,[t]),g=i.useMemo(()=>n?.filter(e=>e.showInProfile)||[],[n]);return(0,s.jsxs)("div",{id:"user-profile-container",children:[(0,s.jsx)(o.A,{name:m,avatar:e}),(0,s.jsx)("div",{id:"user-settings-buttons",children:g.map((e,n)=>(0,s.jsx)(b,{apiConnected:h,icon:e,onClick:x},n))})]})},b=({icon:e,onClick:n,apiConnected:t=!1,enabled:a=!0})=>{const i=()=>{n&&a&&n(e)};return e.className.includes("fa-plug")?(0,s.jsx)("div",{className:t?e.className.replace("fa-plug-circle-exclamation","fa-plug").replace("redOverlayGlow",""):`${e.className}`,title:e.title,onClick:i}):(0,s.jsx)("div",{className:e.className,title:e.title,onClick:i})},h=i.memo(x);a()}catch(e){a(e)}},1)},7233:(e,n,t)=>{t.a(e,async(e,a)=>{try{t.d(n,{A:()=>r});var s=t(7259),i=t(6363),c=t(7257).V;const{getThumbnailUrl:e,user_avatar:o}=await c("@script"),r=({name:n,avatar:t})=>{const a=i.useMemo(()=>e("persona",t||o||"user-default.png"),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{id:"user-avatar",children:(0,s.jsx)("img",{loading:"lazy",id:"discordia-avatar",src:a,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"},alt:"User Avatar"})}),(0,s.jsxs)("div",{id:"user-info",children:[" ",(0,s.jsx)("div",{id:"user-name",children:n}),(0,s.jsx)("div",{id:"user-status"})]})]})};a()}catch(e){a(e)}},1)}};
//# sourceMappingURL=918.bundle.js.map