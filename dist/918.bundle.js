export const __webpack_esm_id__=918;export const __webpack_esm_ids__=[918];export const __webpack_esm_modules__={4918:(e,s,a)=>{a.a(e,async(e,n)=>{try{a.r(s),a.d(s,{default:()=>f});var t=a(2714),i=a(9378),o=a(1363),c=a(7233),r=a(7257).V,l=e([c]),d=l.then?(await l)():l;c=d[0];const u=(0,i.lazy)(()=>a.e(951).then(a.bind(a,1951))),m=(0,i.lazy)(()=>a.e(108).then(a.bind(a,108))),_=(0,i.lazy)(()=>a.e(917).then(a.bind(a,2917))),{name1:p,eventSource:v,event_types:x}=await r("@script"),h=({avatar:e=null,icons:s=null})=>{const[a,n]=(0,i.useState)("no_connection"),{openPage:r}=(0,i.useContext)(o.N);(0,i.useEffect)(()=>(v.on(x.ONLINE_STATUS_CHANGED,l),()=>{v.removeListener(x.ONLINE_STATUS_CHANGED,l)}),[]);const l=(0,i.useCallback)(()=>{"no_connection"===SillyTavern.getContext().onlineStatus?n("no_connection"):n("online")},[]),d=(0,i.useCallback)(e=>{const s=e.id;switch(s){case"#user-settings-button":r((0,t.jsx)(u,{}));break;case"#ai-config-button":r((0,t.jsx)(m,{}));break;case"#sys-settings-button":r((0,t.jsx)(_,{}));break;default:console.log(`No action defined for icon with id: ${s}`)}},[]),h=(0,i.useMemo)(()=>"no_connection"!==a,[a]),f=(0,i.useMemo)(()=>s?.filter(e=>e.showInProfile)||[],[s]);return(0,t.jsxs)("div",{id:"user-profile-container",children:[(0,t.jsx)(c.A,{name:p,avatar:e}),(0,t.jsx)("div",{id:"user-settings-buttons",children:f.map((e,s)=>(0,t.jsx)(b,{apiConnected:h,icon:e,onClick:d},s))})]})},b=({icon:e,onClick:s,apiConnected:a=!1,enabled:n=!0})=>{const o=(0,i.useMemo)(()=>e.className.includes("fa-plug"),[e.className]),c=(0,i.useMemo)(()=>a?e.className.replace("redOverlayGlow","").replace("fa-plug-circle-exclamation","fa-plug"):`${e.className}`,[a,e.className]),r=(0,i.useCallback)(()=>{s&&n&&s(e)},[s,n,e]);return o?(0,t.jsx)("div",{className:c,title:e.title,onClick:r}):(0,t.jsx)("div",{className:e.className,title:e.title,onClick:r})},f=(0,i.memo)(h);n()}catch(e){n(e)}},1)},7233:(e,s,a)=>{a.a(e,async(e,n)=>{try{a.d(s,{A:()=>r});var t=a(2714),i=a(9378),o=a(7257).V;const{getThumbnailUrl:e,user_avatar:c}=await o("@script"),r=({name:s,avatar:a})=>{const n=(0,i.useMemo)(()=>e("persona",a||c||"user-default.png"),[a]);return(0,t.jsxs)("div",{id:"profile-persona-container",className:"hover:bg-lighter w-full cursor-pointer flex items-center rounded-md transition-colors ease-in-out",children:[(0,t.jsx)("div",{id:"user-avatar",className:"mr-2 h-10 w-10 shrink-0 flex items-center justify-center",children:(0,t.jsx)("img",{loading:"lazy",id:"discordia-avatar",src:n,style:{width:"36px",height:"36px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"},alt:"User Avatar"})}),(0,t.jsxs)("div",{id:"user-info",children:[" ",(0,t.jsx)("div",{id:"user-name",children:s}),(0,t.jsx)("div",{id:"user-status"})]})]})};n()}catch(e){n(e)}},1)}};
//# sourceMappingURL=918.bundle.js.map