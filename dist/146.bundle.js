"use strict";(self.webpackChunkst_discordia=self.webpackChunkst_discordia||[]).push([[146],{146:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>f});var i=a(363),c=a(744),r=a(675),l=a(257).V,o=e([r]),d=o.then?(await o)():o;r=d[0];const s=i.lazy(()=>a.e(122).then(a.bind(a,122))),h=(0,i.lazy)(()=>a.e(417).then(a.bind(a,417))),u=(0,i.lazy)(()=>a.e(886).then(a.bind(a,886))),m=(0,i.lazy)(()=>a.e(466).then(a.bind(a,466))),{closeCurrentChat:p,openCharacterChat:C}=await l("@script"),{openGroupChat:v}=await l("@scripts/groupChats"),g=({title:e="Recent Chats",icons:t,chats:a,setOpen:n})=>{const l=i.useContext(c.N),o=i.useCallback(e=>SillyTavern.getContext().getCurrentChatId()===e.file_id,[SillyTavern.getContext().getCurrentChatId()]);return i.createElement("div",{id:"channel-container",className:"px-1"},i.createElement(u,{onSearch:e=>{console.log("Search query:",e)}}),i.createElement(s,null),i.createElement("div",{id:"channel-header"},i.createElement("div",{id:"channel-icons-container"},t?.filter(e=>!e.showInProfile).map((e,t)=>i.createElement(y,{icon:e,key:t,onClick:()=>(e=>{const t=e.id;"#extensions-settings-button"===t?l.openPage(i.createElement(m,null)):console.log(`No action defined for icon with id: ${t}`)})(e)})))),i.createElement("div",{id:"channel-divider",className:"divider"}),i.createElement("div",{className:"section-header"},e),i.createElement("div",{id:"channel-list"},i.createElement("div",{id:"channels-list-container"},a.map((e,t)=>i.createElement("div",{key:t,onClick:()=>(async e=>{if(o(e))return;if(e?.char_id||e?.is_group)return await p(),void(e.is_group?await(0,r.eS)({id:e.group,chat_id:e.file_id}):e.char_id&&await(0,r.yG)(e.char_id,e.file_id));const{characterId:t,groupId:a}=SillyTavern.getContext();null!==a?await v(a,e.file_id):t&&await C(e.file_id),window.innerWidth<=1e3&&n(!1)})(e)},i.createElement(h,{chat:e,isSelected:o(e),avatar:(0,r.yN)({chat:e}),setOpen:n}))))))},y=({icon:e,onClick:t})=>i.createElement("div",{className:"py-2 px-2.5 cursor-pointer font-bold rounded-md mr-1 w-full flex items-center gap-2 group",title:e.title,onClick:t},i.createElement("div",{style:{fontSize:"28px"},className:`${e.className} group-hover:opacity-100`}),i.createElement("div",{className:"group-hover:text-white truncate text-gray-500"},e.title)),f=g;n()}catch(e){n(e)}},1)}}]);
//# sourceMappingURL=146.bundle.js.map