"use strict";(self.webpackChunkst_discordia=self.webpackChunkst_discordia||[]).push([[146],{146:(e,t,a)=>{a.a(e,async(e,i)=>{try{a.r(t),a.d(t,{default:()=>f});var n=a(363),c=a(744),r=a(675),l=a(257).V,o=e([r]),d=o.then?(await o)():o;r=d[0];const s=n.lazy(()=>a.e(122).then(a.bind(a,122))),h=(0,n.lazy)(()=>a.e(417).then(a.bind(a,417))),u=(0,n.lazy)(()=>a.e(886).then(a.bind(a,886))),m=(0,n.lazy)(()=>a.e(466).then(a.bind(a,466))),{closeCurrentChat:p,openCharacterChat:v}=await l("@script"),{openGroupChat:C}=await l("@scripts/groupChats"),g=({title:e="Recent Chats",icons:t,chats:a,setOpen:i})=>{const l=n.useContext(c.N),o=n.useCallback(e=>SillyTavern.getContext().getCurrentChatId()===e.file_id,[SillyTavern.getContext().getCurrentChatId()]);return n.createElement("div",{id:"channel-container",className:"px-1"},n.createElement(u,{onSearch:e=>{console.log("Search query:",e)}}),n.createElement(s,null),n.createElement("div",{id:"channel-header"},n.createElement("div",{id:"channel-icons-container"},t?.filter(e=>!e.showInProfile).map((e,t)=>n.createElement(y,{icon:e,key:t,onClick:()=>(e=>{const t=e.id;"#extensions-settings-button"===t?l.openPage(n.createElement(m,null)):console.log(`No action defined for icon with id: ${t}`)})(e)})))),n.createElement("div",{id:"channel-divider",className:"divider"}),n.createElement("div",{className:"section-header"},e),n.createElement("div",{id:"channel-list"},n.createElement("div",{id:"channels-list-container"},a.map((e,t)=>n.createElement("div",{key:t,onClick:()=>(async e=>{if(o(e))return;if(void 0!==e?.char_id&&e?.char_id>=0||e?.is_group)return await p(),void(e.is_group?await(0,r.eS)({id:e.group,chat_id:e.file_id}):void 0!==e?.char_id&&await(0,r.yG)(e.char_id,e.file_id));const{characterId:t,groupId:a}=SillyTavern.getContext();null!==a?await C(a,e.file_id):t&&await v(e.file_id),window.innerWidth<=1e3&&i(!1)})(e)},n.createElement(h,{chat:e,isSelected:o(e),avatar:(0,r.yN)({chat:e}),setOpen:i}))))))},y=({icon:e,onClick:t})=>n.createElement("div",{className:"py-2 px-2.5 cursor-pointer font-bold rounded-md mr-1 w-full flex items-center gap-2 group",title:e.title,onClick:t},n.createElement("div",{style:{fontSize:"28px"},className:`${e.className} group-hover:opacity-100`}),n.createElement("div",{className:"group-hover:text-white truncate text-gray-500"},e.title)),f=g;i()}catch(e){i(e)}},1)}}]);
//# sourceMappingURL=146.bundle.js.map