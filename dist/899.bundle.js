export const __webpack_esm_id__=899;export const __webpack_esm_ids__=[899];export const __webpack_esm_modules__={3899(e,t,a){a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>f});var i=a(5656),s=a(7140),c=a(1826),r=a(3228),o=a(7963),d=a(1752),l=a(7393),h=a(4673),u=e([r,h]);[r,h]=u.then?(await u)():u;const x=s.lazy(()=>a.e(809).then(a.bind(a,7809))),p=(0,s.lazy)(()=>a.e(8).then(a.bind(a,2008))),C=(0,s.lazy)(()=>a.e(911).then(a.bind(a,7911))),_=(0,s.lazy)(()=>a.e(633).then(a.bind(a,2633))),b=(0,s.lazy)(()=>a.e(934).then(a.bind(a,7934))),v=(0,s.lazy)(()=>a.e(348).then(a.bind(a,6348))),y=(0,s.lazy)(()=>a.e(78).then(a.bind(a,3078))),m=(0,s.lazy)(()=>a.e(862).then(a.bind(a,5862))),w=(0,s.lazy)(()=>a.e(342).then(a.bind(a,9342))),g=({icons:e,chats:t,setOpen:a,isLoadingChats:n=!1,hasActiveContext:u})=>{const{openPage:g}=(0,s.useContext)(c.N),{setSearchQuery:f}=(0,d.SQ)(),{openChat:k,isSelectedChat:N}=(0,h.e)(),S=(0,s.useCallback)(e=>{const t=e.id;switch(t){case"#advanced-formatting-button":g((0,i.jsx)(w,{}));break;case"#extensions-settings-button":g((0,i.jsx)(_,{}));break;case"#WI-SP-button":g((0,i.jsx)(b,{}));break;case"#backgrounds-button":g((0,i.jsx)(v,{}));break;case"#persona-management-button":g((0,i.jsx)(y,{}));break;case"#rightNavHolder":g((0,i.jsx)(m,{}));break;default:console.log(`No action defined for icon with id: ${t}`)}},[g]),z=(0,s.useCallback)(async e=>{await k(e),window.innerWidth<=1e3&&a(!1)},[k,a]),I=s.useMemo(()=>e?.filter(e=>!e.showInProfile),[e]),P=(0,s.useCallback)(e=>{f(e)},[f]),H=(0,s.useMemo)(()=>t,[t]),T=n||u?"Chats":"Recent Chats";return(0,i.jsx)(l.A,{children:(0,i.jsxs)("div",{id:"channel-container",className:"px-1 select-none",children:[(0,i.jsx)(C,{onInput:P}),(0,i.jsx)(x,{}),(0,i.jsx)("div",{id:"channel-header",children:(0,i.jsx)("div",{id:"channel-icons-container",children:I?.map((e,t)=>(0,i.jsx)(j,{icon:e,onClick:S},t))})}),(0,i.jsx)("div",{id:"channel-divider",className:"divider"}),(0,i.jsx)("div",{className:"section-header",children:T}),(0,i.jsx)("div",{id:"channel-list",children:(0,i.jsx)("div",{id:"channels-list-container",children:H.length>50?(0,i.jsx)(o.B8,{rowComponent:({index:e,style:a})=>{const s=t[e];return(0,i.jsx)("div",{style:a,children:(0,i.jsx)(p,{chat:s,onClick:z,isSelected:N(s),avatar:(0,r.yN)({chat:s}),isLoading:n})})},rowCount:H.length,rowHeight:48,rowProps:{},overscanCount:5,style:{width:"100%"}}):H.map((e,t)=>(0,i.jsx)(p,{chat:e,onClick:z,isSelected:N(e),avatar:(0,r.yN)({chat:e}),isLoading:n},t))})})]})})},j=s.memo(function({icon:e,onClick:t}){return(0,i.jsxs)("div",{className:"py-2 px-2.5 select-none cursor-pointer font-bold rounded-md mr-1 w-full flex items-center gap-2 group",title:e.title,onClick:()=>{t&&t(e)},children:[(0,i.jsx)("div",{style:{fontSize:"28px"},className:`${e.className} group-hover:opacity-100`}),(0,i.jsx)("div",{className:"group-hover:text-white truncate text-gray-500",children:e.title})]})}),f=s.memo(g);n()}catch(e){n(e)}})},4673(e,t,a){a.a(e,async(e,n)=>{try{a.d(t,{e:()=>p});var i=a(7140),s=a(3228),c=a(3696),r=a(5822).V,o=e([s]),d=o.then?(await o)():o;s=d[0];const{closeCurrentChat:l,openCharacterChat:h}=await r("@script"),{openGroupChat:u}=await r("@scripts/groupChats"),{eventSource:x}=await r("@script");function p(){const e=(0,i.useCallback)(e=>{try{return SillyTavern.getContext().chatId===e.file_id}catch{return!1}},[]);return{openChat:(0,i.useCallback)(async t=>{if(!t)return;if(e(t))return;if(void 0!==t?.char_id&&t?.char_id>=0||t?.is_group)return x.emit(c.V.CHAT_SWITCH_PENDING),await l(),void(t.is_group?await(0,s.eS)({id:t.group,chat_id:t.file_id}):void 0!==t?.char_id&&await(0,s.yG)(t.char_id,t.file_id));const{characterId:a,groupId:n}=SillyTavern.getContext();null!==n?await u(n,t.file_id):a&&await h(t.file_id)},[e]),isSelectedChat:e}}n()}catch(C){n(C)}},1)}};
//# sourceMappingURL=899.bundle.js.map