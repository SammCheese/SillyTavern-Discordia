export const __webpack_esm_id__=790;export const __webpack_esm_ids__=[790];export const __webpack_esm_modules__={790:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{default:()=>f});var i=n(363),l=n(744),r=n(675),c=n(636),o=n(257).V,s=e([l,r]);[l,r]=s.then?(await s)():s;const d=i.lazy(()=>n.e(122).then(n.bind(n,122))),h=(0,i.lazy)(()=>n.e(417).then(n.bind(n,417))),u=(0,i.lazy)(()=>n.e(268).then(n.bind(n,268))),m=(0,i.lazy)(()=>n.e(466).then(n.bind(n,466))),p=(0,i.lazy)(()=>n.e(711).then(n.bind(n,711))),_=(0,i.lazy)(()=>n.e(105).then(n.bind(n,105))),b=(0,i.lazy)(()=>n.e(839).then(n.bind(n,839))),y=(0,i.lazy)(()=>n.e(71).then(n.bind(n,71))),v=(0,i.lazy)(()=>n.e(31).then(n.bind(n,31))),{closeCurrentChat:C,openCharacterChat:g}=await o("@script"),{openGroupChat:w}=await o("@scripts/groupChats"),E=({title:e="Recent Chats",icons:t,chats:n,setOpen:a})=>{const{openPage:o}=i.useContext(l.N),s=i.useCallback(e=>{const t=e.id;switch(t){case"#advanced-formatting-button":o(i.createElement(v,null));break;case"#extensions-settings-button":o(i.createElement(m,null));break;case"#WI-SP-button":o(i.createElement(p,null));break;case"#backgrounds-button":o(i.createElement(_,null));break;case"#persona-management-button":o(i.createElement(b,null));break;case"#rightNavHolder":o(i.createElement(y,null));break;default:console.log(`No action defined for icon with id: ${t}`)}},[o]),E=i.useCallback(e=>SillyTavern.getContext().getCurrentChatId()===e.file_id,[SillyTavern.getContext().getCurrentChatId()]),f=i.useCallback(async e=>{if(!e)return;if(E(e))return;if(void 0!==e?.char_id&&e?.char_id>=0||e?.is_group)return await C(),void(e.is_group?await(0,r.eS)({id:e.group,chat_id:e.file_id}):void 0!==e?.char_id&&await(0,r.yG)(e.char_id,e.file_id));const{characterId:t,groupId:n}=SillyTavern.getContext();null!==n?await w(n,e.file_id):t&&await g(e.file_id),window.innerWidth<=1e3&&a(!1)},[a,E]),x=i.useMemo(()=>t?.filter(e=>!e.showInProfile),[t]),N=i.useCallback(e=>{console.log("Search query:",e)},[]),z=i.useMemo(()=>n,[n]);return i.createElement("div",{id:"channel-container",className:"px-1"},i.createElement(u,{onInput:N}),i.createElement(d,null),i.createElement("div",{id:"channel-header"},i.createElement("div",{id:"channel-icons-container"},x?.map((e,t)=>i.createElement(k,{icon:e,key:t,onClick:s})))),i.createElement("div",{id:"channel-divider",className:"divider"}),i.createElement("div",{className:"section-header"},e),i.createElement("div",{id:"channel-list"},i.createElement("div",{id:"channels-list-container"},z.length>50?i.createElement(c.B8,{rowComponent:({index:e,style:t})=>{const l=n[e];return i.createElement("div",{style:t},i.createElement(h,{chat:l,onClick:f,isSelected:E(l),avatar:(0,r.yN)({chat:l}),setOpen:a}))},rowCount:z.length,rowHeight:48,rowProps:{},overscanCount:5,style:{width:"100%"}}):z.map((e,t)=>i.createElement(h,{chat:e,key:t,onClick:f,isSelected:E(e),avatar:(0,r.yN)({chat:e}),setOpen:a})))))},k=i.memo(function({icon:e,onClick:t}){return i.createElement("div",{className:"py-2 px-2.5 cursor-pointer font-bold rounded-md mr-1 w-full flex items-center gap-2 group",title:e.title,onClick:()=>{t&&t(e)}},i.createElement("div",{style:{fontSize:"28px"},className:`${e.className} group-hover:opacity-100`}),i.createElement("div",{className:"group-hover:text-white truncate text-gray-500"},e.title))}),f=i.memo(E);a()}catch(e){a(e)}},1)}};
//# sourceMappingURL=790.bundle.js.map