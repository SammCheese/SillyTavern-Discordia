export const __webpack_esm_id__=790;export const __webpack_esm_ids__=[790];export const __webpack_esm_modules__={790:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>N});var i=a(259),s=a(363),r=a(744),o=a(675),c=a(636),d=a(257).V,l=e([r,o]);[r,o]=l.then?(await l)():l;const h=s.lazy(()=>a.e(122).then(a.bind(a,122))),u=(0,s.lazy)(()=>a.e(814).then(a.bind(a,814))),x=(0,s.lazy)(()=>a.e(268).then(a.bind(a,268))),p=(0,s.lazy)(()=>a.e(466).then(a.bind(a,466))),g=(0,s.lazy)(()=>a.e(711).then(a.bind(a,711))),C=(0,s.lazy)(()=>a.e(105).then(a.bind(a,105))),_=(0,s.lazy)(()=>a.e(839).then(a.bind(a,839))),b=(0,s.lazy)(()=>a.e(71).then(a.bind(a,71))),v=(0,s.lazy)(()=>a.e(31).then(a.bind(a,31))),{closeCurrentChat:m,openCharacterChat:y}=await d("@script"),{openGroupChat:j}=await d("@scripts/groupChats"),{getContext:w}=SillyTavern,f=({icons:e,chats:t,setOpen:a,isLoadingChats:n=!1})=>{const{openPage:d}=s.useContext(r.N),l=s.useCallback(e=>{const t=e.id;switch(t){case"#advanced-formatting-button":d((0,i.jsx)(v,{}));break;case"#extensions-settings-button":d((0,i.jsx)(p,{}));break;case"#WI-SP-button":d((0,i.jsx)(g,{}));break;case"#backgrounds-button":d((0,i.jsx)(C,{}));break;case"#persona-management-button":d((0,i.jsx)(_,{}));break;case"#rightNavHolder":d((0,i.jsx)(b,{}));break;default:console.log(`No action defined for icon with id: ${t}`)}},[d]),f=s.useCallback(e=>SillyTavern.getContext().getCurrentChatId()===e.file_id,[SillyTavern.getContext().getCurrentChatId()]),N=s.useCallback(async e=>{if(!e)return;if(f(e))return;if(void 0!==e?.char_id&&e?.char_id>=0||e?.is_group)return await m(),void(e.is_group?await(0,o.eS)({id:e.group,chat_id:e.file_id}):void 0!==e?.char_id&&await(0,o.yG)(e.char_id,e.file_id));const{characterId:t,groupId:n}=SillyTavern.getContext();null!==n?await j(n,e.file_id):t&&await y(e.file_id),window.innerWidth<=1e3&&a(!1)},[a,f]),I=s.useMemo(()=>e?.filter(e=>!e.showInProfile),[e]),z=s.useCallback(e=>{console.log("Search query:",e)},[]),S=s.useMemo(()=>t,[t]),P=s.useMemo(()=>{const{characterId:e,groupId:t}=w();return n||e||t?"Chats":"Recent Chats"},[n,w().characterId,w().groupId]);return(0,i.jsxs)("div",{id:"channel-container",className:"px-1",children:[(0,i.jsx)(x,{onInput:z}),(0,i.jsx)(h,{}),(0,i.jsx)("div",{id:"channel-header",children:(0,i.jsx)("div",{id:"channel-icons-container",children:I?.map((e,t)=>(0,i.jsx)(k,{icon:e,onClick:l},t))})}),(0,i.jsx)("div",{id:"channel-divider",className:"divider"}),(0,i.jsx)("div",{className:"section-header",children:P}),(0,i.jsx)("div",{id:"channel-list",children:(0,i.jsx)("div",{id:"channels-list-container",children:S.length>50?(0,i.jsx)(c.B8,{rowComponent:({index:e,style:a})=>{const s=t[e];return(0,i.jsx)("div",{style:a,children:(0,i.jsx)(u,{chat:s,onClick:N,isSelected:f(s),avatar:(0,o.yN)({chat:s}),isLoading:n})})},rowCount:S.length,rowHeight:48,rowProps:{},overscanCount:5,style:{width:"100%"}}):S.map((e,t)=>(0,i.jsx)(u,{chat:e,onClick:N,isSelected:f(e),avatar:(0,o.yN)({chat:e}),isLoading:n},t))})})]})},k=s.memo(function({icon:e,onClick:t}){return(0,i.jsxs)("div",{className:"py-2 px-2.5 cursor-pointer font-bold rounded-md mr-1 w-full flex items-center gap-2 group",title:e.title,onClick:()=>{t&&t(e)},children:[(0,i.jsx)("div",{style:{fontSize:"28px"},className:`${e.className} group-hover:opacity-100`}),(0,i.jsx)("div",{className:"group-hover:text-white truncate text-gray-500",children:e.title})]})}),N=s.memo(f);n()}catch(e){n(e)}},1)}};
//# sourceMappingURL=790.bundle.js.map