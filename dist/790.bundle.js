"use strict";(self.webpackChunkst_discordia=self.webpackChunkst_discordia||[]).push([[790],{790:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>E});var i=a(363),r=a(744),l=a(675),c=a(636),o=a(257).V,s=e([l]),d=s.then?(await s)():s;l=d[0];const h=i.lazy(()=>a.e(122).then(a.bind(a,122))),u=(0,i.lazy)(()=>a.e(417).then(a.bind(a,417))),m=(0,i.lazy)(()=>a.e(886).then(a.bind(a,886))),p=(0,i.lazy)(()=>a.e(466).then(a.bind(a,466))),C=(0,i.lazy)(()=>a.e(711).then(a.bind(a,711))),{closeCurrentChat:v,openCharacterChat:y}=await o("@script"),{openGroupChat:w}=await o("@scripts/groupChats"),f=({title:e="Recent Chats",icons:t,chats:a,setOpen:n})=>{const{openPage:o}=i.useContext(r.N),s=i.useCallback(e=>{const t=e.id;switch(t){case"#extensions-settings-button":o(i.createElement(p,null));break;case"#WI-SP-button":o(i.createElement(C,null));break;default:console.log(`No action defined for icon with id: ${t}`)}},[o]),d=i.useCallback(e=>SillyTavern.getContext().getCurrentChatId()===e.file_id,[SillyTavern.getContext().getCurrentChatId()]),f=i.useCallback(async e=>{if(!e)return;if(d(e))return;if(void 0!==e?.char_id&&e?.char_id>=0||e?.is_group)return await v(),void(e.is_group?await(0,l.eS)({id:e.group,chat_id:e.file_id}):void 0!==e?.char_id&&await(0,l.yG)(e.char_id,e.file_id));const{characterId:t,groupId:a}=SillyTavern.getContext();null!==a?await w(a,e.file_id):t&&await y(e.file_id),window.innerWidth<=1e3&&n(!1)},[n,d]),E=i.useMemo(()=>t?.filter(e=>!e.showInProfile),[t]);return i.createElement("div",{id:"channel-container",className:"px-1"},i.createElement(m,{onInput:()=>{}}),i.createElement(h,null),i.createElement("div",{id:"channel-header"},i.createElement("div",{id:"channel-icons-container"},E?.map((e,t)=>i.createElement(g,{icon:e,key:t,onClick:s})))),i.createElement("div",{id:"channel-divider",className:"divider"}),i.createElement("div",{className:"section-header"},e),i.createElement("div",{id:"channel-list"},i.createElement("div",{id:"channels-list-container"},a.length>50?i.createElement(c.B8,{rowComponent:({index:e,style:t})=>{const r=a[e];return i.createElement("div",{style:t},i.createElement(u,{chat:r,onClick:f,isSelected:d(r),avatar:(0,l.yN)({chat:r}),setOpen:n}))},rowCount:a.length,rowHeight:48,rowProps:{},overscanCount:5,style:{width:"100%"}}):a.map((e,t)=>i.createElement(u,{chat:e,key:t,onClick:f,isSelected:d(e),avatar:(0,l.yN)({chat:e}),setOpen:n})))))},g=i.memo(function({icon:e,onClick:t}){return i.createElement("div",{className:"py-2 px-2.5 cursor-pointer font-bold rounded-md mr-1 w-full flex items-center gap-2 group",title:e.title,onClick:()=>{t&&t(e)}},i.createElement("div",{style:{fontSize:"28px"},className:`${e.className} group-hover:opacity-100`}),i.createElement("div",{className:"group-hover:text-white truncate text-gray-500"},e.title))}),E=i.memo(f);n()}catch(e){n(e)}},1)}}]);
//# sourceMappingURL=790.bundle.js.map