export const __webpack_esm_id__=8;export const __webpack_esm_ids__=[8];export const __webpack_esm_modules__={2008(e,a,t){t.a(e,async(e,l)=>{try{t.r(a),t.d(a,{default:()=>x});var n=t(5656),s=t(7140),r=t(9488),i=t(7955),c=e([i]),o=c.then?(await c)():c;i=o[0];const d=({avatar:e,chat:a,isSelected:t,onClick:l,isLoading:c=!1})=>{const{handleContextMenu:o}=(0,i.z)(a),d=(0,s.useCallback)(()=>{l?.(a)},[l,a]);return(0,n.jsx)("li",{className:"border-none relative ms-1 select-none cursor-pointer rounded-lg hover:bg-lighter "+(t?"bg-lighter":""),id:`recent-chat-${a.file_id}`,title:a.file_id,onClick:d,onContextMenu:o,children:(0,n.jsx)("div",{className:"items-stretch flex w-full box-border",children:c?(0,n.jsxs)("div",{style:{flex:"1 1 auto",padding:"8px"},className:"w-full flex flex-col gap-2 h-12 ",children:[(0,n.jsx)(r.A,{className:"h-9 mr-2 rounded-4xl bg-gray-600"}),(0,n.jsx)(r.A,{className:"w-full rounded-xl bg-gray-600"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{flex:"1 1 auto",paddingRight:"8px",paddingLeft:"8px"},className:"items-center flex gap-2 min-w-0 overflow-hidden text-ellipsis whitespace-nowrap w-full",children:(0,n.jsxs)("div",{className:"h-12 items-center flex rounded-sm min-w-0 p-0",children:[(0,n.jsx)("img",{loading:"lazy",style:{flex:"0 0 auto"},className:"rounded-4xl h-9 w-9 object-cover flex me-3 justify-center",src:e}),(0,n.jsx)("div",{className:"truncate select-none",children:a?.file_id??a.file_name})]})}),(0,n.jsx)("div",{className:"items-center flex flex-row shrink-0 justify-end box-border ps-px-[16px]",children:(0,n.jsx)("div",{className:"self-center p-0 m-0 hidden me-2 pe-2.5",id:"close-chat-button",children:"x"})})]})})})},x=(0,s.memo)(d);l()}catch(e){l(e)}})},7955(e,a,t){t.a(e,async(e,l)=>{try{t.d(a,{z:()=>x});var n=t(7140),s=t(2295),r=t(3696),i=t(5822).V;const{deleteCharacterChatByName:e,eventSource:c,closeCurrentChat:o}=await i("@script"),{deleteGroupChatByName:d}=await i("@scripts/groupChats"),x=a=>{const{showContextMenu:t}=(0,n.useContext)(s.Kh),l=(0,n.useCallback)(async()=>{const{characters:t,characterId:l,groupId:n}=SillyTavern.getContext();if(a)try{if(null===n||l){let n=a.char_id??l;if(n||(n=t.findIndex(e=>e.avatar===a.avatar)),void 0===n||-1===n)return;await o(),await e(n.toString(),a.file_id)}else await o(),await d(n,a.file_name)}catch(e){console.error("Error deleting chat:",e)}finally{c.emit(r.V.HOME_BUTTON_CLICKED)}},[a]),i=(0,n.useMemo)(()=>[{label:"Open",onClick:()=>{console.log("Open channel:",a.file_id)}},{label:"---",variant:"separator"},{label:"Delete",variant:"danger",onClick:l}],[a,l]);return{handleContextMenu:(0,n.useCallback)(e=>{e.preventDefault(),t(e,i)},[i,t])}};l()}catch(e){l(e)}},1)}};
//# sourceMappingURL=8.bundle.js.map