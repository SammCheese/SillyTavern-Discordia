export const __webpack_esm_id__=8;export const __webpack_esm_ids__=[8];export const __webpack_esm_modules__={2008(e,a,t){t.a(e,async(e,l)=>{try{t.r(a),t.d(a,{default:()=>f});var r=t(5656),s=t(7140),i=t(9488),n=t(2295),c=t(3696),d=t(5822).V;const{deleteCharacterChatByName:e,eventSource:o,closeCurrentChat:x}=await d("@script"),{deleteGroupChatByName:h}=await d("@scripts/groupChats"),m=({avatar:a,chat:t,isSelected:l,onClick:d,isLoading:m=!1})=>{const{showContextMenu:f}=(0,s.useContext)(n.Kh),u=(0,s.useCallback)(()=>{d?.(t)},[d,t]),p=(0,s.useCallback)(async()=>{const{characters:a,characterId:l,groupId:r}=SillyTavern.getContext();if(t)try{if(null===r||l){let r=t.char_id??l;if(r||(r=a.findIndex(e=>e.avatar===t.avatar)),void 0===r||-1===r)return;await x(),await e(r.toString(),t.file_id)}else await x(),await h(r,t.file_name)}catch(e){console.error("Error deleting chat:",e)}finally{o.emit(c.V.HOME_BUTTON_CLICKED)}},[t]);return(0,r.jsx)("li",{className:"border-none relative ms-1 select-none cursor-pointer rounded-lg hover:bg-lighter "+(l?"bg-lighter":""),id:`recent-chat-${t.file_id}`,title:t.file_id,onClick:u,onContextMenu:e=>{e.preventDefault(),f(e,[{label:"Open",onClick:u},{label:"---",variant:"separator"},{label:"Delete",variant:"danger",onClick:p}])},children:(0,r.jsx)("div",{className:"items-stretch flex w-full box-border",children:m?(0,r.jsxs)("div",{style:{flex:"1 1 auto",padding:"8px"},className:"w-full flex flex-col gap-2 h-12 ",children:[(0,r.jsx)(i.A,{className:"h-9 mr-2 rounded-4xl bg-gray-600"}),(0,r.jsx)(i.A,{className:"w-full rounded-xl bg-gray-600"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{flex:"1 1 auto",paddingRight:"8px",paddingLeft:"8px"},className:"items-center flex gap-2 min-w-0 overflow-hidden text-ellipsis whitespace-nowrap w-full",children:(0,r.jsxs)("div",{className:"h-12 items-center flex rounded-sm min-w-0 p-0",children:[(0,r.jsx)("img",{loading:"lazy",style:{flex:"0 0 auto"},className:"rounded-4xl h-9 w-9 object-cover flex me-3 justify-center",src:a}),(0,r.jsx)("div",{className:"truncate select-none",children:t?.file_id??t.file_name})]})}),(0,r.jsx)("div",{className:"items-center flex flex-row shrink-0 justify-end box-border ps-px-[16px]",children:(0,r.jsx)("div",{className:"self-center p-0 m-0 hidden me-2 pe-2.5",id:"close-chat-button",children:"x"})})]})})})},f=(0,s.memo)(m);l()}catch(e){l(e)}},1)}};
//# sourceMappingURL=8.bundle.js.map