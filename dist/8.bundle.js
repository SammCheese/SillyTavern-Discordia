export const __webpack_esm_id__=8;export const __webpack_esm_ids__=[8];export const __webpack_esm_modules__={2008(e,l,a){a.a(e,async(e,t)=>{try{a.r(l),a.d(l,{default:()=>o});var s=a(5656),r=a(7140),n=a(9488),i=a(2295),c=a(5822).V;const{deleteCharacterChatByName:e}=await c("@script"),d=({avatar:l,chat:a,isSelected:t,onClick:c,isLoading:d=!1})=>{const{showContextMenu:o}=(0,r.useContext)(i.Kh),x=(0,r.useCallback)(()=>{c?.(a)},[c,a]),h=(0,r.useCallback)(async()=>{try{let l=a.char_id??null;if(l||(l=SillyTavern.getContext().characters.findIndex(e=>e.avatar===a.avatar)),null===l||-1===l)return;await e(l.toString(),a.file_id)}catch(e){console.error("Error deleting chat:",e)}},[a]);return(0,s.jsx)("li",{className:"border-none relative ms-1 select-none cursor-pointer rounded-lg hover:bg-lighter "+(t?"bg-lighter":""),id:`recent-chat-${a.file_id}`,title:a.file_id,onClick:x,onContextMenu:e=>{e.preventDefault(),o(e,[{label:"Open",onClick:x},{label:"---",variant:"separator"},{label:"Delete",variant:"danger",onClick:h}])},children:(0,s.jsx)("div",{className:"items-stretch flex w-full box-border",children:d?(0,s.jsxs)("div",{style:{flex:"1 1 auto",padding:"8px"},className:"w-full flex flex-col gap-2 h-12 ",children:[(0,s.jsx)(n.A,{className:"h-9 mr-2 rounded-4xl bg-gray-600"}),(0,s.jsx)(n.A,{className:"w-full rounded-xl bg-gray-600"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{flex:"1 1 auto",paddingRight:"8px",paddingLeft:"8px"},className:"items-center flex gap-2 min-w-0 overflow-hidden text-ellipsis whitespace-nowrap w-full",children:(0,s.jsxs)("div",{className:"h-12 items-center flex rounded-sm min-w-0 p-0",children:[(0,s.jsx)("img",{loading:"lazy",style:{flex:"0 0 auto"},className:"rounded-4xl h-9 w-9 object-cover flex me-3 justify-center",src:l}),(0,s.jsx)("div",{className:"truncate select-none",children:a?.file_id??a.file_name})]})}),(0,s.jsx)("div",{className:"items-center flex flex-row shrink-0 justify-end box-border ps-px-[16px]",children:(0,s.jsx)("div",{className:"self-center p-0 m-0 hidden me-2 pe-2.5",id:"close-chat-button",children:"x"})})]})})})},o=(0,r.memo)(d);t()}catch(e){t(e)}},1)}};
//# sourceMappingURL=8.bundle.js.map