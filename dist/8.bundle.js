export const __webpack_esm_id__=8;export const __webpack_esm_ids__=[8];export const __webpack_esm_modules__={2008(e,a,l){l.a(e,async(e,t)=>{try{l.r(a),l.d(a,{default:()=>m});var s=l(5656),r=l(7140),i=l(9488),n=l(2295),c=l(3696),d=l(5822).V;const{deleteCharacterChatByName:e,eventSource:o}=await d("@script"),{deleteGroupChatByName:x}=await d("@scripts/groupChats"),h=({avatar:a,chat:l,isSelected:t,onClick:d,isLoading:h=!1})=>{const{showContextMenu:m}=(0,r.useContext)(n.Kh),f=(0,r.useCallback)(()=>{d?.(l)},[d,l]),p=(0,r.useCallback)(async()=>{const{characters:a,characterId:t,groupId:s}=SillyTavern.getContext();if(l)try{if(null===s||t){let s=l.char_id??t;if(s||(s=a.findIndex(e=>e.avatar===l.avatar)),void 0===s||-1===s)return;await e(s.toString(),l.file_id)}else await x(s,l.file_name)}catch(e){console.error("Error deleting chat:",e)}finally{o.emit(c.V.CHAT_UPDATE)}},[l]);return(0,s.jsx)("li",{className:"border-none relative ms-1 select-none cursor-pointer rounded-lg hover:bg-lighter "+(t?"bg-lighter":""),id:`recent-chat-${l.file_id}`,title:l.file_id,onClick:f,onContextMenu:e=>{e.preventDefault(),m(e,[{label:"Open",onClick:f},{label:"---",variant:"separator"},{label:"Delete",variant:"danger",onClick:p}])},children:(0,s.jsx)("div",{className:"items-stretch flex w-full box-border",children:h?(0,s.jsxs)("div",{style:{flex:"1 1 auto",padding:"8px"},className:"w-full flex flex-col gap-2 h-12 ",children:[(0,s.jsx)(i.A,{className:"h-9 mr-2 rounded-4xl bg-gray-600"}),(0,s.jsx)(i.A,{className:"w-full rounded-xl bg-gray-600"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{flex:"1 1 auto",paddingRight:"8px",paddingLeft:"8px"},className:"items-center flex gap-2 min-w-0 overflow-hidden text-ellipsis whitespace-nowrap w-full",children:(0,s.jsxs)("div",{className:"h-12 items-center flex rounded-sm min-w-0 p-0",children:[(0,s.jsx)("img",{loading:"lazy",style:{flex:"0 0 auto"},className:"rounded-4xl h-9 w-9 object-cover flex me-3 justify-center",src:a}),(0,s.jsx)("div",{className:"truncate select-none",children:l?.file_id??l.file_name})]})}),(0,s.jsx)("div",{className:"items-center flex flex-row shrink-0 justify-end box-border ps-px-[16px]",children:(0,s.jsx)("div",{className:"self-center p-0 m-0 hidden me-2 pe-2.5",id:"close-chat-button",children:"x"})})]})})})},m=(0,r.memo)(h);t()}catch(e){t(e)}},1)}};
//# sourceMappingURL=8.bundle.js.map