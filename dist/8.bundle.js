export const __webpack_esm_id__=8;export const __webpack_esm_ids__=[8];export const __webpack_esm_modules__={2008(e,t,a){a.a(e,async(e,l)=>{try{a.r(t),a.d(t,{default:()=>d});var n=a(5656),r=a(7140),i=a(7955),s=e([i]),c=s.then?(await s)():s;i=c[0];const o=({avatar:e,chat:t,isSelected:a,onClick:l})=>{const{handleContextMenu:s}=(0,i.z)(t),c=(0,r.useCallback)(()=>{l?.(t)},[l,t]);return(0,n.jsx)("li",{className:"border-none relative ms-1 select-none cursor-pointer rounded-lg hover:bg-lighter "+(a?"bg-lighter":""),id:`recent-chat-${t.file_id}`,title:t.file_id,onClick:c,onContextMenu:s,children:(0,n.jsx)("div",{className:"items-stretch flex w-full box-border",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{flex:"1 1 auto",paddingRight:"8px",paddingLeft:"8px"},className:"items-center flex gap-2 min-w-0 overflow-hidden text-ellipsis whitespace-nowrap w-full",children:(0,n.jsxs)("div",{className:"h-12 items-center flex rounded-sm min-w-0 p-0",children:[(0,n.jsx)("img",{loading:"lazy",style:{flex:"0 0 auto"},className:"rounded-4xl h-9 w-9 object-cover flex me-3 justify-center",src:e}),(0,n.jsx)("div",{className:"truncate select-none",children:t?.file_id??t.file_name})]})}),(0,n.jsx)("div",{className:"items-center flex flex-row shrink-0 justify-end box-border ps-px-[16px]",children:(0,n.jsx)("div",{className:"self-center p-0 m-0 hidden me-2 pe-2.5",id:"close-chat-button",children:"x"})})]})})})},d=(0,r.memo)(o);l()}catch(e){l(e)}})},7955(e,t,a){a.a(e,async(e,l)=>{try{a.d(t,{z:()=>h});var n=a(7140),r=a(2295),i=a(3696),s=a(5822).V;const{deleteCharacterChatByName:e,eventSource:c,closeCurrentChat:o}=await s("@script"),{deleteGroupChatByName:d}=await s("@scripts/groupChats"),h=t=>{const{showContextMenu:a}=(0,n.useContext)(r.Kh),l=(0,n.useCallback)(async()=>{const{characters:a,characterId:l,groupId:n}=SillyTavern.getContext();if(t)try{if(null===n||l){let n=t.char_id??l;if(n||(n=a.findIndex(e=>e.avatar===t.avatar)),void 0===n||-1===n)return;await o(),await e(n.toString(),t.file_id)}else await o(),await d(n,t.file_name)}catch(e){console.error("Error deleting chat:",e)}finally{c.emit(i.V.HOME_BUTTON_CLICKED)}},[t]),s=(0,n.useMemo)(()=>[{label:"Open",onClick:()=>{console.log("Open channel:",t.file_id)}},{label:"---",variant:"separator"},{label:"Delete",variant:"danger",onClick:l}],[t,l]);return{handleContextMenu:(0,n.useCallback)(e=>{e.preventDefault(),a(e,s)},[s,a])}};l()}catch(e){l(e)}},1)}};
//# sourceMappingURL=8.bundle.js.map