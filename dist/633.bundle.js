export const __webpack_esm_id__=633;export const __webpack_esm_ids__=[633];export const __webpack_esm_modules__={214(e,t,n){async function s(e){const t={},n=[];for(const s of e){const e=new Promise((e,n)=>{fetch(`/scripts/extensions/${s}/manifest.json`).then(async o=>{if(o.ok){const n=await o.json();t[s]=n,e(n)}else n()}).catch(e=>{n(),console.log("Could not load manifest.json for "+s,e)})});n.push(e)}return await Promise.allSettled(n),t}n.d(t,{R:()=>s})},2633(e,t,n){n.a(e,async(e,s)=>{try{n.r(t),n.d(t,{default:()=>g});var o=n(5656),a=n(7140),i=n(9488),l=n(214),c=n(5822).V;const r=(0,a.lazy)(()=>n.e(809).then(n.bind(n,7809))),d=(0,a.lazy)(()=>n.e(713).then(n.bind(n,7713))),m=(0,a.lazy)(()=>n.e(279).then(n.bind(n,4279))),u=(0,a.lazy)(()=>n.e(53).then(n.bind(n,6053))),{extension_settings:h,enableExtension:x,disableExtension:b}=await c("@scripts/extensions"),{saveSettingsDebounced:f}=await c("@script");async function p(){try{const e=await fetch("/api/extensions/discover");if(e.ok){return await e.json()}return[]}catch(e){return console.error(e),[]}}const y=(0,a.memo)(function({extension:e,onToggle:t}){const[n,s]=(0,a.useState)(e.name),[c,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let t=!0;return(0,l.R)([e.name]).then(n=>{t&&(s(n[e.name]?.display_name||e.name),r(!1))}),()=>{t=!1}},[]);const u=(0,a.useCallback)(()=>{t(e)},[t,e]);return c?(0,o.jsx)(d,{title:(0,o.jsx)(i.A,{width:150}),children:(0,o.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,o.jsx)("label",{children:(0,o.jsx)(i.A,{width:60})}),(0,o.jsx)(i.A,{width:40,height:20})]})}):(0,o.jsx)(d,{title:n,children:(0,o.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,o.jsx)("label",{htmlFor:`${e.name}-enabled`,children:" Enabled "}),(0,o.jsx)(m,{isOn:!e.disabled,onToggle:u})]})})}),g=()=>{const[e,t]=(0,a.useState)({local:[],global:[],system:[]}),[n,s]=(0,a.useState)(h.disabledExtensions),i=(0,a.useRef)([...h.disabledExtensions]),l=(0,a.useRef)([...h.disabledExtensions]);(0,a.useEffect)(()=>{l.current=n},[n]),(0,a.useEffect)(()=>(p().then(e=>{const n={local:[],global:[],system:[]};Object.values(e).flat().forEach(e=>{const t=e.type in n?e.type:"local";n[t].push({...e,type:t,disabled:l.current.includes(e.name)})}),t(n)}),()=>{f();const e=[...i.current].sort(),t=[...l.current].sort();JSON.stringify(e)!==JSON.stringify(t)&&window.location.reload()}),[]);const c=(0,a.useCallback)(async e=>{const n=l.current;e.disabled?(await x(e.name,!1),l.current=n.filter(t=>t!==e.name)):(await b(e.name,!1),l.current=[...n,e.name]),s(l.current),t(t=>{const n={...t},s=e.type;return n[s]&&(n[s]=n[s].map(t=>t.name===e.name?{...t,disabled:!t.disabled}:t)),n})},[]);return(0,o.jsx)(u,{title:"Extension Settings",children:(0,o.jsxs)("div",{className:"settings-section overflow-auto",style:{maxHeight:"80dvh"},children:[(0,o.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"System Extensions"}),(0,o.jsx)("ul",{children:e.system.map(e=>(0,o.jsx)(y,{extension:e,onToggle:c},e.name))}),(0,o.jsx)(r,{}),(0,o.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"Global Extensions"}),(0,o.jsx)("ul",{children:e.global.map(e=>(0,o.jsx)(y,{extension:e,onToggle:c},e.name))}),(0,o.jsx)(r,{}),(0,o.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:"Local Extensions"}),(0,o.jsx)("ul",{children:e.local.map(e=>(0,o.jsx)(y,{extension:e,onToggle:c},e.name))})]})})};s()}catch(j){s(j)}},1)},9488(e,t,n){n.d(t,{A:()=>l});var s=n(7140);const o=s.createContext({}),a=!0;function i({baseColor:e,highlightColor:t,width:n,height:s,borderRadius:o,circle:a,direction:i,duration:l,enableAnimation:c=true,customHighlightBackground:r}){const d={};return"rtl"===i&&(d["--animation-direction"]="reverse"),"number"==typeof l&&(d["--animation-duration"]=`${l}s`),c||(d["--pseudo-element-display"]="none"),"string"!=typeof n&&"number"!=typeof n||(d.width=n),"string"!=typeof s&&"number"!=typeof s||(d.height=s),"string"!=typeof o&&"number"!=typeof o||(d.borderRadius=o),a&&(d.borderRadius="50%"),void 0!==e&&(d["--base-color"]=e),void 0!==t&&(d["--highlight-color"]=t),"string"==typeof r&&(d["--custom-highlight-background"]=r),d}function l({count:e=1,wrapper:t,className:n,containerClassName:l,containerTestId:c,circle:r=!1,style:d,...m}){var u,h,x;const b=s.useContext(o),f={...m};for(const[e,t]of Object.entries(m))void 0===t&&delete f[e];const p={...b,...f,circle:r},y={...d,...i(p)};let g="react-loading-skeleton";n&&(g+=` ${n}`);const j=null!==(u=p.inline)&&void 0!==u&&u,w=[],_=Math.ceil(e);for(let t=0;t<_;t++){let n=y;if(_>e&&t===_-1){const t=null!==(h=n.width)&&void 0!==h?h:"100%",s=e%1,o="number"==typeof t?t*s:`calc(${t} * ${s})`;n={...n,width:o}}const o=s.createElement("span",{className:g,style:n,key:t},"â€Œ");j?w.push(o):w.push(s.createElement(s.Fragment,{key:t},o,s.createElement("br",null)))}return s.createElement("span",{className:l,"data-testid":c,"aria-live":"polite","aria-busy":null!==(x=p.enableAnimation)&&void 0!==x?x:a},t?w.map((e,n)=>s.createElement(t,{key:n},e)):w)}}};
//# sourceMappingURL=633.bundle.js.map