export const __webpack_esm_id__=148;export const __webpack_esm_ids__=[148,264,608];export const __webpack_esm_modules__={148(e,s,t){t.a(e,async(e,n)=>{try{t.r(s),t.d(s,{default:()=>f});var a=t(5656),l=t(7140),i=t(1251),o=t(6095),r=t(803),c=t(612),d=t(3659).V,m=e([i,r]);[i,r]=m.then?(await m)():m;const x=(0,l.lazy)(()=>t.e(142).then(t.bind(t,4142))),{saveSettingsDebounced:h}=await d("@script"),{deleteExtension:u}=await d("@scripts/extensions"),f=()=>{const{toggleExtension:e,categorizedExtensions:s,disabledExtensions:t}=(0,i.w)(),{openPopup:n}=(0,o.OJ)(),d=(0,l.useRef)(new Set(t)),m=(0,l.useCallback)(s=>{e(s)},[e]),f=(0,l.useCallback)(()=>{h()},[]),b=(0,l.useCallback)(e=>{const s=e.name.replace("third-party/","");n(null,{title:"Confirm Deletion",confirmText:"Delete",confirmVariant:"danger",cancelText:"Cancel",description:`Are you sure you want to delete the extension "${s}"? This action cannot be undone.`,onConfirm:()=>u(s)})},[n]),p=(0,l.useMemo)(()=>[{title:"System Extensions",extensions:s.system},{title:"Global Extensions",extensions:s.global},{title:"Local Extensions",extensions:s.local}],[s]),g=(0,l.useMemo)(()=>{if(t.length!==d.current.size)return!0;for(const e of t)if(!d.current.has(e))return!0;return!1},[t,d]),j=(0,l.useCallback)(()=>{window.location.reload()},[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.Suspense,{fallback:null,children:(0,a.jsx)(x,{title:"Extension Settings",onClose:f,header:g?(0,a.jsx)(c.A,{onReload:j}):null,children:(0,a.jsx)("div",{className:"settings-section space-y-6",children:(0,a.jsx)("div",{children:p&&p.map(({title:e,extensions:s})=>s.length>0&&(0,a.jsx)(r.A,{title:e,extensions:s,onToggle:m,onDelete:b},e))})})})})})};n()}catch(e){n(e)}},1)},612(e,s,t){t.d(s,{A:()=>d});var n,a,l,i=t(5656),o=t(7140);!function(e){e.DEFAULT="border-base-discordia-lighter",e.BLUE="border-blue-500",e.GREEN="border-green-500",e.RED="border-red-500",e.YELLOW="border-yellow-500"}(n||(n={})),function(e){e.DEFAULT="bg-base-discordia",e.BLUE="bg-blue-500/10",e.GREEN="bg-green-500/10",e.RED="bg-red-500/10",e.YELLOW="bg-yellow-500/10"}(a||(a={})),function(e){e.DEFAULT="solid",e.DOTTED="dotted",e.DASHED="dashed"}(l||(l={}));const r=(0,o.memo)(({children:e,color:s=n.DEFAULT,border:t=l.DEFAULT,background:o=a.DEFAULT,className:r})=>(0,i.jsx)("div",{className:`p-4 text-wrap border border-${t} ${s} ${o} ${r}`,children:e}));var c=t(8586);const d=(0,o.memo)(({onReload:e})=>(0,i.jsx)("div",{className:"mb-6 mt-6 w-full top-16 left-0 px-6 z-50 pointer-events-none",children:(0,i.jsx)(r,{color:n.YELLOW,border:l.DASHED,background:a.YELLOW,className:"p-4 mb-4 flex flex-row justify-between items-center pointer-events-auto shadow-md",children:(0,i.jsxs)("div",{className:"font-medium",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("i",{className:"fa-solid fa-exclamation-triangle mr-2 text-yellow-700"}),(0,i.jsxs)("span",{children:[(0,i.jsx)("strong",{children:"Note: "}),"Some Changes may require a reload to take effect"]})]}),(0,i.jsx)(c.A,{onClick:e,children:"Reload"})]})})}))},803(e,s,t){t.a(e,async(e,n)=>{try{t.d(s,{A:()=>d});var a=t(5656),l=t(7140),i=t(9308),o=e([i]),r=o.then?(await o)():o;i=r[0];const c=({title:e,extensions:s,onToggle:t,onDelete:n})=>{const o=(0,l.useCallback)(e=>{n(e)},[n]);return 0===s.length?null:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:e}),(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)(i.A,{extension:e,onToggle:t,onDelete:o,...e},e.name))})]})},d=(0,l.memo)(c);n()}catch(e){n(e)}})},1608(e,s,t){t.r(s),t.d(s,{default:()=>a});var n=t(5656);const a=(0,t(7140).memo)(({width:e="w-full",className:s=""})=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.1)"},className:`${e} h-px my-2 mx-auto ${s}`})}))},1724(e,s,t){t.d(s,{A:()=>l});var n=t(5656),a=t(7140);const l=(0,a.memo)(({faIcon:e,size:s=24,onClick:t,tooltip:l,disabled:i=!1,color:o})=>{const r=(0,a.useCallback)(e=>{i||t?.(e)},[t,i]);return(0,n.jsx)("button",{className:`\n        flex items-center justify-center\n        ${i?"cursor-not-allowed opacity-50":"hover:bg-gray-700 cursor-pointer"}\n        rounded p-2 border border-base-discordia-lighter hover:border-gray-500 transition-all\n      `,style:{width:s+16,height:s+16},onClick:r,title:l,"aria-label":l,children:(0,n.jsx)("div",{className:`text-${s}px ${e}`,style:{color:o}})})})},2906(e,s,t){t.d(s,{A:()=>i});var n=t(5656),a=t(7140),l=t(1724);const i=(0,a.memo)(({title:e,disabled:s,hasSettings:t,hasUpdates:i,onUpdateClick:o,isUpdating:r=!1})=>{const c=(0,a.useCallback)(e=>{r||(e.stopPropagation(),o?.())},[r,o]);return(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,n.jsx)("div",{className:"fa fa-solid fa-cog",title:"Has Settings"}),(0,n.jsx)("label",{title:`${e}${s?" (Disabled)":""}`,className:"text-lg font-medium",style:{opacity:s?.5:1},children:e})]}),(0,n.jsx)("div",{className:"flex items-center gap-2 ml-auto mr-2",children:i&&(0,n.jsx)(l.A,{size:18,faIcon:"fa fa-solid fa-download",color:"#4ade80",tooltip:"Update Available",onClick:c,disabled:r})})]})})},4542(e,s,t){t.d(s,{A:()=>o});var n=t(5656),a=t(1724),l=t(7140);const i=(0,l.memo)(({isOn:e,onToggle:s,onColor:t="var(--color-blurple)"})=>{const[a,i]=(0,l.useState)(e),o=(0,l.useCallback)(()=>{i(!a),s&&s()},[a,s]);return(0,n.jsx)("div",{onClick:o,style:{cursor:"pointer",width:"50px",height:"25px",borderRadius:"15px",backgroundColor:a?t:"#ccc",position:"relative",transition:"background-color 0.2s"},children:(0,n.jsx)("div",{style:{position:"absolute",top:"2.5px",left:a?"27.5px":"2.5px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#fff",transition:"left 0.2s",boxShadow:"0 0 2px rgba(0, 0, 0, 0.2)"}})})}),o=({extension:e,disabled:s,handleToggle:t,handleDelete:l})=>(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("label",{htmlFor:`${e.name}-enabled`,children:" Enabled "})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i,{isOn:!s,onToggle:t}),"system"!==e.type&&(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(a.A,{faIcon:"fa fa-solid fa-trash",color:"#f87171",tooltip:"Uninstall Extension",onClick:l})})]})]})},7264(e,s,t){t.r(s),t.d(s,{Accordion:()=>l,default:()=>i});var n=t(5656),a=t(7140);const l=({title:e,isOpen:s=!1,onToggle:t,children:l,destroyOnClose:i=!1})=>{const[o,r]=(0,a.useState)(s);(0,a.useEffect)(()=>{r(s)},[s]);const c=(0,a.useCallback)(()=>{r(e=>!e),t&&t()},[t]);return(0,n.jsxs)("div",{className:"accordion rounded mb-4 border border-base-discordia-lighter overflow-hidden",children:[(0,n.jsxs)("div",{tabIndex:0,className:"accordion-header cursor-pointer w-full flex justify-between items-center p-2 bg-accordion-header hover:bg-lighter transition-colors duration-200",onClick:c,children:[(0,n.jsx)("span",{className:"text-lg font-medium w-full truncate text-start",children:e}),(0,n.jsx)("span",{className:"transition-transform duration-200 "+(o?"rotate-180":""),children:(0,n.jsx)("div",{className:"fa fa-chevron-down"})})]}),(0,n.jsx)("div",{className:"accordion-content bg-input-bg transition-all duration-200 "+(o?"block p-4":"hidden"),children:(o||!i)&&l})]})},i=(0,a.memo)(l)},8378(e,s,t){t.d(s,{A:()=>a});var n=t(5656);const a=(0,t(7140).memo)(({manifest:e,version:s})=>(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-1 mb-2 justify-between ",children:[(0,n.jsxs)("span",{className:"text-sm truncate",children:[(0,n.jsx)("div",{className:"fa fa-solid fa-book me-2"}),(0,n.jsx)("b",{children:"Version:"})," ",e?.version||"N/A"]}),(0,n.jsxs)("span",{className:"text-sm  truncate",children:[(0,n.jsx)("div",{className:"fa fa-solid fa-user me-2"}),(0,n.jsx)("b",{children:"Author:"})," ",(0,n.jsx)("span",{children:e?.author||"N/A"})]})]}),s&&(0,n.jsxs)("div",{className:"flex flex-row gap-1 justify-between",children:[(0,n.jsxs)("span",{className:"text-sm truncate",children:[(0,n.jsx)("div",{className:"fa fa-solid fa-link me-2"}),(0,n.jsx)("b",{children:"Branch:"})," ",s.currentBranchName||"N/A"]}),(0,n.jsxs)("span",{className:"text-sm truncate",children:[(0,n.jsx)("div",{className:"fa fa-solid fa-code-commit me-2"}),(0,n.jsx)("b",{children:"Commit:"})," ",(0,n.jsx)("a",{className:"",href:`${s.remoteUrl.replace(".git","")}/commit/${s.currentCommitHash}`,target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)("span",{className:"hover:opacity-50 transition-opacity duration-200 truncate",children:s.currentCommitHash.substring(0,7)||"N/A"})})]})]})]}))},9308(e,s,t){t.a(e,async(e,n)=>{try{t.d(s,{A:()=>g});var a=t(5656),l=t(7140),i=t(9862),o=t(128),r=t(7264),c=t(9488),d=(t(1029),t(1608)),m=t(7810),x=t(2906),h=t(8378),u=t(4542),f=e([m]),b=f.then?(await f)():f;m=b[0];const p=(0,l.memo)(function({extension:e,manifest:s,onToggle:t,settings:n,disabled:f=!1,version:b,onDelete:p}){const[g,j]=(0,l.useState)(),[v,N]=(0,l.useState)(!1),y=g??b,w=!s,A=(0,l.useCallback)(()=>{t(e)},[t,e]),k=(0,l.useCallback)(()=>{N(!0),(0,m.Dv)(e.name).then(()=>{(0,m.gv)(e.name).then(e=>{j(e)})}).catch(s=>{console.error(`Failed to update extension ${e.name}:`,s)}).finally(()=>{N(!1)})},[e.name]),C=(0,l.useMemo)(()=>s?.display_name??e.name,[s?.display_name,e.name]),E=(0,l.useCallback)(()=>{p?.(e)},[p,e]);return w?(0,a.jsx)(r.default,{title:(0,a.jsx)(c.A,{width:150,enableAnimation:!0}),children:(0,a.jsx)("div",{className:"p-4 flex items-center justify-between"})}):(0,a.jsx)(r.default,{title:(0,a.jsx)(x.A,{title:C,disabled:f,hasSettings:!!n,hasUpdates:!1===y?.isUpToDate,onUpdateClick:k,isUpdating:v}),children:(0,a.jsx)(o.A,{children:(0,a.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(h.A,{manifest:s,version:y}),(0,a.jsx)(u.A,{extension:e,disabled:f,handleToggle:A,handleDelete:E})]}),(0,a.jsx)(d.default,{}),(0,a.jsx)(i.A,{settings:n,disabled:f})]})})})}),g=(0,l.memo)(p);n()}catch(e){n(e)}})},9862(e,s,t){t.d(s,{A:()=>l});var n=t(5656),a=t(7140);const l=(0,a.memo)(({settings:e,disabled:s})=>{const t=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{const n=t.current;if(!n)return;if(!e||0===e.length||s)return void(n.innerHTML="");const a=e[0];return a?(a.parentElement!==n&&(n.innerHTML="",n.appendChild(a)),()=>{n.contains(a)&&n.removeChild(a)}):void 0},[e,s]),!e||s?(0,n.jsx)("div",{className:"text-gray-500 text-center py-2",children:s?"Extension Disabled":"No Settings Available"}):(0,n.jsx)("div",{ref:t,className:"settings-container overflow-auto max-h-96 overflow-x-hidden"})})}};
//# sourceMappingURL=148.bundle.js.map