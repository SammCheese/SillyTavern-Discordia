"use strict";(self.webpackChunkst_discordia=self.webpackChunkst_discordia||[]).push([[466],{466:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.r(t),n.d(t,{default:()=>h});var l=n(363),a=n(257).V;const i=l.lazy(()=>n.e(122).then(n.bind(n,122))),o=l.lazy(()=>n.e(666).then(n.bind(n,285))),c=l.lazy(()=>n.e(328).then(n.bind(n,328))),m=l.lazy(()=>n.e(468).then(n.bind(n,468))),{extension_settings:r,enableExtension:d,disableExtension:b}=await a("@scripts/extensions"),{saveSettingsDebounced:u}=await a("@script");async function E(){try{const e=await fetch("/api/extensions/discover");if(e.ok){return await e.json()}return[]}catch(e){return console.error(e),[]}}const x=({extension:e})=>l.createElement(o,{title:`${e.name}`,isOpen:!1,onToggle:()=>{}},l.createElement("div",{className:"p-4 flex items-center justify-between"},l.createElement("label",{htmlFor:`${e.name}-enabled`}," Enabled "),l.createElement(c,{isOn:!e.disabled,handleToggle:()=>{e.disabled?d(e.name):b(e.name)}}))),h=()=>{const[e,t]=l.useState({local:[],global:[],system:[]});return l.useEffect(()=>{const e=r.disabledExtensions;return E().then(n=>{const s={local:[],global:[],system:[]};n.forEach(t=>{"local"===t.type?s.local.push({...t,disabled:e.includes(t.name)}):"global"===t.type?s.global.push({...t,disabled:e.includes(t.name)}):"system"===t.type&&s.system.push({...t,disabled:e.includes(t.name)})}),t(s)}),()=>{console.log("Extension Settings Unloaded, saving settings."),u()}},[r]),l.createElement(m,{title:"Extension Settings"},l.createElement("div",{className:"settings-section overflow-auto",style:{maxHeight:"70dvh"}},l.createElement("h3",{className:"text-2xl font-semibold mb-4"},"System Extensions"),l.createElement("ul",null,e.system.map(e=>l.createElement(x,{key:e.name,extension:e}))),l.createElement(i,null),l.createElement("h3",{className:"text-2xl font-semibold mb-4"},"Global Extensions"),l.createElement("ul",null,e.global.map(e=>l.createElement(x,{key:e.name,extension:e}))),l.createElement(i,null),l.createElement("h3",{className:"text-2xl font-semibold mb-4"},"Local Extensions"),l.createElement("ul",null,e.local.map(e=>l.createElement(x,{key:e.name,extension:e})))))};s()}catch(y){s(y)}},1)}}]);
//# sourceMappingURL=466.bundle.js.map